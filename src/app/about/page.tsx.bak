"use client";

import React, { useEffect, useRef, useState } from "react";
import Navbar from "@/components/Navbar";
import { FaInstagram, FaDiscord, FaGithub, FaLinkedin } from "react-icons/fa6";


export default function About() {
    // Track visibility for each word
    const [visibleWords, setVisibleWords] = useState<boolean[]>([]);
    const wordRefs = useRef<(HTMLSpanElement | null)[]>([]);

    const fullText = `Phoenix is a cutting-edge AI-powered code generation tool designed to revolutionize the way developers write code. With its advanced natural language processing capabilities, Phoenix can understand complex programming concepts and generate high-quality code snippets in various programming languages. Whether you're a seasoned developer looking to boost productivity or a beginner seeking to learn coding, Phoenix provides an intuitive interface that allows you to describe your coding needs in plain English and receive accurate, efficient code solutions. Experience the future of coding with Phoenix and unlock your full potential as a developer. Phoenix is a cutting-edge AI-powered code generation tool designed to revolutionize the way developers write code. With its advanced natural language processing capabilities, Phoenix can understand complex programming concepts and generate high-quality code snippets in various programming languages. Whether you're a seasoned developer looking to boost productivity or a beginner seeking to learn coding, Phoenix provides an intuitive interface that allows you to describe your coding needs in plain English and receive accurate, efficient code solutions. Experience the future of coding with Phoenix and unlock your full potential as a developer.Phoenix is a cutting-edge AI-powered code generation tool designed to revolutionize the way developers write code. With its advanced natural language processing capabilities, Phoenix can understand complex programming concepts and generate high-quality code snippets in various programming languages. Whether you're a seasoned developer looking to boost productivity or a beginner seeking to learn coding, Phoenix provides an intuitive interface that allows you to describe your coding needs in plain English and receive accurate, efficient code solutions. Experience the future of coding with Phoenix and unlock your full potential as a developer.Phoenix is a cutting-edge AI-powered code generation tool designed to revolutionize the way developers write code. With its advanced natural language processing capabilities, Phoenix can understand complex programming concepts and generate high-quality code snippets in various programming languages. Whether you're a seasoned developer looking to boost productivity or a beginner seeking to learn coding, Phoenix provides an intuitive interface that allows you to describe your coding needs in plain English and receive accurate, efficient code solutions. Experience the future of coding with Phoenix and unlock your full potential as a developer.Phoenix is a cutting-edge AI-powered code generation tool designed to revolutionize the way developers write code. With its advanced natural language processing capabilities, Phoenix can understand complex programming concepts and generate high-quality code snippets in various programming languages. Whether you're a seasoned developer looking to boost productivity or a beginner seeking to learn coding, Phoenix provides an intuitive interface that allows you to describe your coding needs in plain English and receive accurate, efficient code solutions. Experience the future of coding with Phoenix and unlock your full potential as a developer.`;

    const words = fullText.split(" ");

    useEffect(() => {
        // Simple per-word observer: show when in view, hide when out
        setVisibleWords(Array(words.length).fill(false));
        const observers: IntersectionObserver[] = [];

        wordRefs.current.forEach((ref, idx) => {
            if (!ref) return;
            const observer = new IntersectionObserver(
                ([entry]) => {
                    setVisibleWords((prev) => {
                        const updated = [...prev];
                        updated[idx] = entry.isIntersecting;
                        return updated;
                    });
                },
                { threshold: 0.1 },
            );
            observer.observe(ref);
            observers.push(observer);
        });

        return () => observers.forEach((o) => o.disconnect());
    }, [words.length]);

    return (
        <>
            <Navbar />
            <div
                className="min-h-screen w-full flex flex-col items-center font-sans p-8 pt-[215px] md:pt-[225px] bg-cover bg-center bg-no-repeat bg-fixed"
                style={{ backgroundImage: "url(/background.png)" }}
            >
                <main className="flex flex-col items-center w-full max-w-6xl text-center space-y-8">
                    <h1 className="title-fade text-3xl md:text-6xl font-bold font-press-start mb-24 text-transparent bg-clip-text bg-gradient-to-b from-white to-cyan-400 text-center drop-shadow-[0_0_20px_rgba(34,211,238,0.6)] px-4">
                        ABOUT PHOENIX
                    </h1>

                    <div
                        className="text-lg xs:text-xl sm:text-2xl md:text-xl text-gray-300 leading-relaxed w-full px-2 xs:px-4 md:px-16 flex flex-wrap gap-y-1 gap-x-1 justify-center"
                        style={{ wordBreak: "break-word" }}
                    >
                        {words.map((word, index) => (
                            <span
                                key={index}
                                ref={(el) => (wordRefs.current[index] = el)}
                                className={`inline-block align-baseline transition-opacity duration-500 ease-out ${visibleWords[index] ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4"} whitespace-pre-wrap`}
                                style={{
                                    transitionDelay: "0s",
                                    willChange: "opacity, transform",
                                    maxWidth: "100vw",
                                }}
                            >
                                {word + (index !== words.length - 1 ? " " : "")}
                            </span>
                        ))}
                    </div>

                    {/* Social Media Links */}
                    <div className="flex gap-6 items-center justify-center pt-8">
                        <a
                            href="https://instagram.com/"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-white hover:text-yellow-400 transition-all duration-300 transform hover:scale-110"
                        >
                            <FaInstagram  className="w-6 h-6 md:w-8 md:h-8" />
                        </a>
                        <a
                            href="https://linkedin.com/"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-white hover:text-yellow-400 transition-all duration-300 transform hover:scale-110"
                        >
                            <FaLinkedin className="w-6 h-6 md:w-8 md:h-8" />
                        </a>
                        <a
                            href="https://github.com/"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-white hover:text-yellow-400 transition-all duration-300 transform hover:scale-110"
                        >
                            <FaGithub className="w-6 h-6 md:w-8 md:h-8" />
                        </a>
                        <a
                            href="https://discord.com/"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-white hover:text-yellow-400 transition-all duration-300 transform hover:scale-110"
                        >
                            <FaDiscord className="w-6 h-6 md:w-8 md:h-8" />
                        </a>
                    </div>
                </main>
            </div>
        </>
    );
}
